'use strict';
const Database = require('.');
const db = new Database('foo', { memory: true });

db.register({ varargs: true }, function logger(...values) {
  console.log(`row updated to (${values.join(', ')})`);
});
db.prepare('CREATE TABLE data (a, b, c)').run();
db.prepare('CREATE TRIGGER IF NOT EXISTS updateHook AFTER UPDATE ON data BEGIN SELECT logger(NEW.a, NEW.b, NEW.c); END').run();

db.prepare('INSERT INTO data VALUES (12, 34, 56)').run();
db.prepare('UPDATE data SET a = 78').run();
